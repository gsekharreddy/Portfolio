<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G Sekhar Reddy | Interactive Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /*------------------------------------
          1. CONFIG: VARIABLES & GLOBAL RESET
        ------------------------------------*/
        :root {
            --bg-dark: #0A0A14;
            --primary-color: #FFA500;
            --secondary-color: #1E90FF;
            --glass-bg: rgba(15, 15, 25, 0.5);
            --text-light: #E0E0E0;
            --border-color: rgba(255, 255, 255, 0.1);
            --font-main: 'Poppins', sans-serif;
            --xp-color: #FFD700;
        }

        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-dark);
            color: var(--text-light);
            overflow-x: hidden;
            cursor: none;
        }
        
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 0, 0, 0) 0px,
                rgba(0, 0, 0, 0) 2px,
                rgba(0, 0, 0, 0.05) 3px
            );
            z-index: 100;
            pointer-events: none;
            animation: scanline 8s linear infinite;
        }
        
        @keyframes scanline {
            0% { background-position-y: 0px; }
            100% { background-position-y: 200px; }
        }

        body.matrix-mode #page-canvas {
             filter: hue-rotate(100deg) brightness(0.8);
        }

        #page-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            transition: filter 1s ease;
        }
        
        #content-wrapper {
            position: relative;
            z-index: 1;
            width: 100%;
            overflow: hidden;
        }

        .container {
            max-width: 1200px;
            width: 90%;
            margin: 0 auto;
        }
        
        section {
            padding: 7rem 0;
            position: relative;
            background-color: transparent;
        }

        .section-title {
            font-size: clamp(2.5rem, 6vw, 4rem);
            text-align: center;
            margin-bottom: 4rem;
            font-weight: 700;
        }
        
        /*------------------------------------
          2. PRELOADER
        ------------------------------------*/
        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background-color: var(--bg-dark);
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        .preloader-text {
            display: flex;
            font-size: 4rem;
            font-weight: 700;
            color: var(--text-light);
        }
        .preloader-text span {
            display: block;
        }

        /*------------------------------------
          3. CUSTOM CURSOR
        ------------------------------------*/
        .cursor-dot, .cursor-outline {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            border-radius: 50%;
            z-index: 9999;
            transform: translate(-50%, -50%);
        }

        .cursor-dot {
            width: 8px;
            height: 8px;
            background-color: var(--primary-color);
        }

        .cursor-outline {
            width: 40px;
            height: 40px;
            border: 2px solid var(--primary-color);
            transition: transform 0.2s ease-out, width 0.3s ease, height 0.3s ease, border-color 0.3s ease;
        }
        
        .cursor-outline.hover {
            width: 60px;
            height: 60px;
            border: 3px solid var(--secondary-color);
        }

        /*------------------------------------
          4. HEADER & NAVBAR
        ------------------------------------*/
        .main-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            padding: 1.5rem 0;
            background-color: rgba(10, 10, 20, 0.3);
            backdrop-filter: blur(10px);
            transition: background-color 0.4s ease, backdrop-filter 0.4s ease;
        }

        .main-header.scrolled {
            background-color: rgba(10, 10, 20, 0.7);
            backdrop-filter: blur(15px);
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
        }

        .nav-logo {
            font-size: 1.8rem;
            font-weight: 700;
            text-decoration: none;
            color: var(--text-light);
            flex-shrink: 0;
        }
        .nav-logo span { color: var(--primary-color); }

        .nav-links { display: flex; list-style: none; gap: 2.5rem; }
        .nav-links a { text-decoration: none; color: var(--text-light); font-weight: 500; }
        
        .player-stats {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-grow: 1;
        }
        .level-indicator {
            background: var(--glass-bg);
            padding: 0.3rem 0.8rem;
            border-radius: 5px;
            border: 1px solid var(--border-color);
            font-weight: 700;
            color: var(--xp-color);
        }
        .xp-bar {
            width: 100%;
            height: 10px;
            background-color: rgba(0,0,0,0.3);
            border-radius: 5px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }
        .xp-progress {
            width: 0%;
            height: 100%;
            background-color: var(--xp-color);
            border-radius: 5px;
            transition: width 0.5s ease-out;
        }

        /*------------------------------------
          5. HERO SECTION
        ------------------------------------*/
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
        }

        .hero-content h1 {
            font-size: clamp(2.5rem, 8vw, 5rem);
            font-weight: 700;
            line-height: 1.1;
            margin-bottom: 1rem;
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);
            position: relative;
        }
        .line { display: block; }
        
        .glitch {
            animation: glitch-skew 1s infinite linear alternate-reverse;
        }
        .glitch::before,
        .glitch::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-dark);
        }
        .glitch::before {
            left: 2px;
            text-shadow: -2px 0 var(--primary-color);
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch-anim 5s infinite linear alternate-reverse;
        }
        .glitch::after {
            left: -2px;
            text-shadow: -2px 0 var(--secondary-color), 2px 2px var(--primary-color);
            clip: rect(85px, 450px, 90px, 0);
            animation: glitch-anim-2 5s infinite linear alternate-reverse;
        }
        @keyframes glitch-anim {
            0% { clip: rect(42px, 9999px, 44px, 0); transform: skew(0.3deg); }
            /* ... more steps ... */
            100% { clip: rect(63px, 9999px, 72px, 0); transform: skew(0.8deg); }
        }
        @keyframes glitch-anim-2 {
            0% { clip: rect(7px, 9999px, 99px, 0); transform: skew(0.2deg); }
            /* ... more steps ... */
            100% { clip: rect(42px, 9999px, 95px, 0); transform: skew(0.6deg); }
        }
        @keyframes glitch-skew {
            0% { transform: skew(0deg); }
            10% { transform: skew(1deg); }
            /* ... more steps ... */
            100% { transform: skew(0deg); }
        }

        .hero-content p {
            font-size: clamp(1rem, 4vw, 1.5rem);
            color: var(--secondary-color);
        }
        
        .btn {
            display: inline-block;
            padding: 0.8rem 2.2rem;
            border-radius: 5px;
            text-decoration: none;
            color: #fff;
            font-weight: 500;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            margin-top: 2rem;
            border: none;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
        }

        .btn-primary { background-color: var(--primary-color); }
        .btn-secondary { background-color: var(--secondary-color); }
        
        /*------------------------------------
          6. CONTENT CARDS & SECTIONS
        ------------------------------------*/
        .about-content p {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            font-size: 1.1rem;
            line-height: 1.8;
            background: var(--glass-bg);
            border: 1px solid var(--border-color);
            padding: 2rem;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
        }
        
        .skill-card, .card {
            background: var(--glass-bg);
            border: 1px solid var(--border-color);
            padding: 2rem;
            border-radius: 15px;
            text-align: left;
            backdrop-filter: blur(10px);
        }
        .skill-card h3 { font-size: 1.5rem; color: var(--secondary-color); margin-bottom: 1.5rem; text-align: center; }
        .skill-card ul { list-style: none; }
        .skill-item {
            margin-bottom: 1rem;
        }
        .skill-bar {
            width: 100%;
            height: 8px;
            background-color: rgba(0,0,0,0.2);
            border-radius: 4px;
            margin-top: 0.25rem;
            overflow: hidden;
        }
        .skill-progress {
            width: 0%;
            height: 100%;
            background-color: var(--primary-color);
            border-radius: 4px;
        }
        
        /*------------------------------------
          7. PROJECTS (CARD GRID)
        ------------------------------------*/
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .project-card {
            background: var(--glass-bg);
            border-radius: 20px;
            border: 1px solid var(--border-color);
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            min-height: 350px;
        }
        
        .project-card h3 { font-size: 2rem; margin-bottom: 0.5rem; color: var(--primary-color); }
        .project-card p { line-height: 1.6; }
        
        /*------------------------------------
          8. GOALS & CONTACT
        ------------------------------------*/
        .strengths-goals-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }
        .card h3 { font-size: 1.5rem; color: var(--secondary-color); margin-bottom: 1rem; }
        
        .contact-content, .ask-question-content { 
            text-align: center; max-width: 700px; margin: 0 auto; 
            background: var(--glass-bg);
            border: 1px solid var(--border-color);
            padding: 3rem;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .contact-links { display: flex; justify-content: center; gap: 1.5rem; margin-top: 2rem; }
        
        .question-form {
            margin-top: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .question-input {
            width: 100%;
            padding: 1rem;
            background: rgba(0,0,0,0.2);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            color: var(--text-light);
            font-family: var(--font-main);
            font-size: 1rem;
            resize: vertical;
            transition: border-color 0.3s ease;
        }
        .question-input::placeholder {
            color: rgba(224, 224, 224, 0.5);
        }
        .question-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        .question-form .btn {
            align-self: center;
        }

        /*------------------------------------
          9. CONTROLS & GAMIFICATION
        ------------------------------------*/
        .controls-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1001;
        }
        .controls-toggle {
            width: 50px;
            height: 50px;
            background: var(--glass-bg);
            border: 1px solid var(--border-color);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
            cursor: none;
        }
        .controls-toggle svg {
            width: 24px;
            height: 24px;
            fill: var(--text-light);
            transition: transform 0.5s ease;
        }
        .controls-panel {
            position: absolute;
            bottom: 65px;
            right: 0;
            background: var(--glass-bg);
            border: 1px solid var(--border-color);
            border-radius: 15px;
            padding: 1.5rem;
            width: 250px;
            backdrop-filter: blur(10px);
            visibility: hidden;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }
        .controls-container.open .controls-toggle svg {
            transform: rotate(90deg);
        }
        .controls-container.open .controls-panel {
            visibility: visible;
            opacity: 1;
            transform: translateY(0);
        }
        .control-group {
            margin-bottom: 1rem;
        }
        .control-group:last-child {
            margin-bottom: 0;
        }
        .control-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        .control-group input[type="range"] { width: 100%; }
        .control-group input[type="color"] { width: 100%; height: 40px; border: none; padding: 0; background: transparent; cursor: none; }
        .sound-toggle-btn {
            width: 100%;
            margin-top: 0.5rem;
            padding: 0.6rem 1rem !important;
        }
        #cycle-colors-control {
            display: none;
        }

        .secret-orb {
            position: absolute;
            width: 25px;
            height: 25px;
            background-color: var(--primary-color);
            border-radius: 50%;
            box-shadow: 0 0 15px var(--primary-color), 0 0 30px var(--primary-color);
            animation: pulse 2s infinite ease-in-out;
            cursor: none;
        }
        @keyframes pulse {
            0% { transform: scale(0.9); }
            50% { transform: scale(1.1); }
            100% { transform: scale(0.9); }
        }
        
        .achievement-popup {
            position: fixed;
            bottom: 2rem;
            left: 2rem;
            background: var(--glass-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 1rem 1.5rem;
            backdrop-filter: blur(10px);
            z-index: 5000;
            transform: translateX(-150%);
            transition: transform 0.5s ease-in-out;
            border-left: 5px solid var(--primary-color);
        }
        .achievement-popup.show {
            transform: translateX(0);
        }
        .achievement-popup h4 { font-size: 1.1rem; color: var(--xp-color); }
        .achievement-popup p { color: var(--text-light); opacity: 0.9; font-size: 0.9rem;}
        
        .achievements-sidebar {
            position: fixed;
            left: 0;
            top: 0;
            height: 100vh;
            width: 300px;
            background: var(--glass-bg);
            border-right: 1px solid var(--border-color);
            backdrop-filter: blur(15px);
            padding: 2rem;
            padding-top: 5rem;
            z-index: 2000;
            transform: translateX(-100%);
            transition: transform 0.5s ease-in-out;
        }
        .achievements-sidebar.open {
            transform: translateX(0);
        }
        .achievements-sidebar h3 { color: var(--secondary-color); margin-bottom: 1rem; }
        .achievements-sidebar ul { list-style: none; }
        .achievements-sidebar li { margin-bottom: 0.5rem; opacity: 0.8; }
        .achievements-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 2rem;
            cursor: none;
        }

        .achievements-toggle {
            position: fixed;
            bottom: 2rem;
            left: 2rem;
            width: 50px;
            height: 50px;
            background: var(--glass-bg);
            border: 1px solid var(--border-color);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
            cursor: none;
            z-index: 1001;
        }
        .achievements-toggle svg {
            width: 24px;
            height: 24px;
            fill: var(--text-light);
        }

        /*------------------------------------
          10. FOOTER
        ------------------------------------*/
        footer { text-align: center; padding: 3rem 0; }
        
        /*------------------------------------
          11. RESPONSIVENESS
        ------------------------------------*/
        @media(max-width: 992px) {
            .nav-links { display: none; }
            .player-stats { display: none; }
        }
        @media(max-width: 768px) {
            .strengths-goals-grid { grid-template-columns: 1fr; }
            .secret-orb { display: none; /* Too tricky on mobile */ }
        }
    </style>
</head>
<body style="visibility: hidden;">
    
    <canvas id="page-canvas"></canvas>

    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>
    
    <div class="preloader">
        <div class="preloader-text">
            <span>G</span>
            <span>S</span>
            <span>R</span>
        </div>
    </div>

    <div id="content-wrapper">
        <header class="main-header" id="main-header">
            <nav class="navbar container">
                <a href="#hero" class="nav-logo interactive">G Sekhar <span>Reddy</span></a>
                <div class="player-stats">
                    <div id="level-indicator" class="level-indicator">LVL 1</div>
                    <div class="xp-bar">
                        <div id="xp-progress" class="xp-progress"></div>
                    </div>
                </div>
                <ul class="nav-links">
                    <li><a href="#about" class="interactive">About</a></li>
                    <li><a href="#skills" class="interactive">Skills</a></li>
                    <li><a href="#projects" class="interactive">Projects</a></li>
                    <li><a href="#contact" class="interactive">Contact</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <section id="hero" class="hero">
                <div class="hero-content container">
                    <h1 class="glitch" data-text="G Sekhar Reddy">
                        <span class="line">G Sekhar Reddy</span>
                    </h1>
                    <p>Computer Science Student | Engineer | Game Developer</p>
                    <a href="#about" class="btn btn-primary interactive">Begin The Journey</a>
                </div>
            </section>

            <section id="about">
                <div class="container">
                    <h2 class="section-title">Character Bio</h2>
                    <div class="about-content">
                        <p>I’m a 3rd-year Computer Science and Engineering student at NIST University, Berhampur. I’m deeply passionate about Data Science, Game Development, and Machine Learning, with a strong interest in building impactful software projects. I also enjoy working on Android app development and web technologies, blending creativity with technical skills.</p>
                        <div class="secret-orb interactive" style="top: -15px; left: -15px;" data-orb="1"></div>
                    </div>
                </div>
            </section>

            <section id="skills">
                <div class="container">
                    <h2 class="section-title">Skill Tree</h2>
                    <div class="skills-grid">
                        <div class="skill-card">
                            <h3>Programming & Algorithms</h3>
                            <ul>
                                <li class="skill-item" data-progress="90"><span>C Programming & Python</span><div class="skill-bar"><div class="skill-progress"></div></div></li>
                                <li class="skill-item" data-progress="85"><span>Sorting (Quick, Merge, Heap)</span><div class="skill-bar"><div class="skill-progress"></div></div></li>
                                <li class="skill-item" data-progress="80"><span>Dynamic Programming (LCS, Knapsack)</span><div class="skill-bar"><div class="skill-progress"></div></div></li>
                                <li class="skill-item" data-progress="85"><span>Graph Traversal (BFS, DFS)</span><div class="skill-bar"><div class="skill-progress"></div></div></li>
                            </ul>
                        </div>
                        <div class="skill-card">
                            <h3>Tools & Technologies</h3>
                            <ul>
                                <li class="skill-item" data-progress="80"><span>Unreal Engine 5 & Android Studio</span><div class="skill-bar"><div class="skill-progress"></div></div></li>
                                <li class="skill-item" data-progress="85"><span>Firebase & Room Database</span><div class="skill-bar"><div class="skill-progress"></div></div></li>
                                <li class="skill-item" data-progress="95"><span>Figma & Canva</span><div class="skill-bar"><div class="skill-progress"></div></div></li>
                                <li class="skill-item" data-progress="90"><span>VS Code & Git</span><div class="skill-bar"><div class="skill-progress"></div></div></li>
                            </ul>
                        </div>
                        <div class="skill-card">
                            <h3>Soft Skills</h3>
                            <ul>
                                <li class="skill-item" data-progress="95"><span>Teamwork & Collaboration</span><div class="skill-bar"><div class="skill-progress"></div></div></li>
                                <li class="skill-item" data-progress="90"><span>Active Listening & Empathy</span><div class="skill-bar"><div class="skill-progress"></div></div></li>
                                <li class="skill-item" data-progress="85"><span>Creative Problem-Solving</span><div class="skill-bar"><div class="skill-progress"></div></div></li>
                                <li class="skill-item" data-progress="90"><span>Adaptability & Fast Learner</span><div class="skill-bar"><div class="skill-progress"></div></div></li>
                            </ul>
                            <div class="secret-orb interactive" style="bottom: 10px; right: 10px;" data-orb="2"></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="projects">
                <div class="container">
                    <h2 class="section-title">Completed Quests</h2>
                    <div class="projects-grid">
                        <div class="project-card interactive">
                            <h3>Task Manager Pro</h3>
                            <p>An Android Studio app with task CRUD, reminders, notifications, fluid animations, and data persistence using the Room database.</p>
                        </div>
                        <div class="project-card interactive">
                            <h3>Feedback System</h3>
                            <p>An Android project with Firebase Realtime Database integration, featuring distinct student-teacher interfaces, smooth animations, and a polished UI.</p>
                        </div>
                        <div class="project-card interactive">
                            <h3>Intelligent Query Retrieval System</h3>
                            <p>A hackathon project utilizing LLMs to process natural language queries on unstructured documents, enabling semantic search and information extraction.</p>
                        </div>
                         <div class="project-card interactive">
                            <h3>Personal Experiments</h3>
                            <p>Ongoing personal projects where I explore new algorithms, experiment with game engine features, and build small tools for fun and learning.</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="more-about-me">
                <div class="container">
                    <h2 class="section-title">Character Arc</h2>
                    <div class="strengths-goals-grid">
                        <div class="card">
                            <h3>My Goals</h3>
                            <p><strong>Short-Term:</strong> To secure a placement in a good MNC where I can sharpen my technical and collaborative skills.</p>
                            <p><strong>Long-Term:</strong> To build my own startup, creating impactful solutions in the tech and gaming industries.</p>
                        </div>
                        <div class="card">
                            <h3>Strengths & Weakness</h3>
                            <p><strong>Strengths:</strong> Active listener, creative thinker, and a strong problem-solving mindset.</p>
                            <p><strong>Weakness:</strong> Stage fear, which I’m actively working to overcome through continuous practice.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="contact">
                <div class="container contact-content">
                    <h2 class="section-title">Assemble The Party</h2>
                    <p>I'm always open to discussing new projects, creative ideas, or opportunities to be part of an amazing team. Let's build something incredible together.</p>
                    <div class="contact-links">
                        <a href="mailto:[Your Email Here]" class="btn btn-primary interactive">Email Me</a>
                        <a href="[Your LinkedIn Link Here]" target="_blank" class="btn btn-secondary interactive">LinkedIn</a>
                        <a href="[Your GitHub Link Here]" target="_blank" class="btn btn-secondary interactive">GitHub</a>
                        <div class="secret-orb interactive" style="position: absolute; bottom: -35px; left: 50%; transform: translateX(-50%);" data-orb="3"></div>
                    </div>
                </div>
            </section>

            <section id="ask-question">
                <div class="container ask-question-content">
                    <h2 class="section-title">The Final Boss</h2>
                    <p>Challenge me with your queries, project ideas, or collaborations. I'll get back to you as soon as possible with a worthy response.</p>
                    <form class="question-form">
                        <textarea class="question-input interactive" placeholder="Type your challenge here..." rows="4"></textarea>
                        <button type="submit" class="btn btn-primary interactive">Submit Challenge</button>
                    </form>
                </div>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2025 G Sekhar Reddy. Engineered with Three.js & GSAP.</p>
        </footer>
    </div>
    
    <div class="achievements-toggle interactive" id="achievements-toggle">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M400 0C400 0 400 21.2 400 32c0 28.3-33.6 48-74.7 48H249.3C208.4 80 176 60.3 176 32c0-10.8 0-32 0-32H112c-8.8 0-16 7.2-16 16v28.5c-1.3 2.6-2.5 5.2-3.6 7.9c-16.5 40.4-29.8 83-37.8 129.6C54.6 212 51.5 224.2 48.4 236.4C46.9 242.6 48 249.2 51.6 254.6L128 384l0 0 48 64c9.4 12.5 28.6 12.5 38.1 0l48-64 0 0 76.4-129.4c3.6-5.4 4.7-12 3.2-18.2c-3.1-12.2-6.2-24.4-9.3-36.5c-7-26.6-11.2-54.3-11.2-83.5V16c0-8.8-7.2-16-16-16H400zM224 448c-17.7 0-32 14.3-32 32s14.3 32 32 32h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H224z"/></svg>
    </div>

    <div class="achievements-sidebar" id="achievements-sidebar">
        <button class="achievements-close interactive">&times;</button>
        <h3>Achievements Unlocked</h3>
        <ul id="achievements-display">
             <!-- Achievements will be added here by JS -->
        </ul>
    </div>

    <div class="controls-container" id="controls-container">
        <div class="controls-toggle interactive">
             <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-3.2 8.7-11.4 14.6-20.8 14.6h-50.5c-7.8 0-15.2-4.2-19.1-11.1l-19.9-34.5c-7.7-1.4-15.2-3.4-22.5-5.9l-29.7 47.4c-4.9 7.8-13.5 12.5-22.7 12.5H256c-9.2 0-17.8-4.7-22.7-12.5l-29.7-47.4c-7.3 2.5-14.8-4.5-22.5-5.9l-19.9-34.5c-3.9-6.9-11.3-11.1-19.1-11.1H87c-9.4 0-17.6-5.9-20.8-14.6c-3.2-8.7-.5-18.4-6.4-24.6l43.3-39.4C114.6 273.1 114 264.6 114 256s.6-17.1 1.7-25.4L72.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c3.2-8.7 11.4-14.6 20.8-14.6h50.5c7.8 0 15.2 4.2 19.1 11.1l19.9 34.5c7.7 1.4 15.2 3.4 22.5 5.9l29.7-47.4c4.9-7.8 13.5-12.5 22.7-12.5H256c9.2 0 17.8 4.7 22.7-12.5l29.7 47.4c7.3-2.5 14.8-4.5 22.5-5.9l19.9-34.5c3.9-6.9 11.3-11.1 19.1-11.1h50.5c9.4 0 17.6 5.9 20.8 14.6zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"/></svg>
        </div>
        <div class="controls-panel">
            <div class="control-group">
                <label for="particleColor">Particle Color</label>
                <input type="color" id="particleColor" value="#1E90FF">
            </div>
            <div class="control-group">
                <label for="particleSize">Particle Size</label>
                <input type="range" id="particleSize" min="0.1" max="1" step="0.1" value="0.2">
            </div>
             <div class="control-group">
                <label for="particleSpeed">Animation Speed</label>
                <input type="range" id="particleSpeed" min="0" max="0.002" step="0.0001" value="0.0005">
            </div>
            <div class="control-group" id="cycle-colors-control">
                <button id="randomizeColorBtn" class="btn btn-secondary interactive" style="width: 100%; margin-top: 0.5rem; padding: 0.6rem 1rem;">Cycle Colors</button>
            </div>
            <div class="control-group">
                 <button id="sound-toggle" class="btn btn-secondary interactive sound-toggle-btn">Sound OFF</button>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            gsap.registerPlugin(ScrollTrigger);
            
            // --- 0. PRELOADER ANIMATION ---
            const preloader = document.querySelector('.preloader');
            const preloaderText = document.querySelectorAll('.preloader-text span');
            const body = document.querySelector('body');
            
            const tl = gsap.timeline();
            tl.from(preloaderText, {
                y: 100,
                opacity: 0,
                duration: 1,
                ease: 'power4.out',
                stagger: 0.2
            }).to(preloaderText, {
                y: -100,
                opacity: 0,
                duration: 0.8,
                ease: 'power4.in',
                stagger: 0.1,
                delay: 0.5
            }).to(preloader, {
                scaleY: 0,
                transformOrigin: 'top',
                duration: 1,
                ease: 'power4.inOut'
            }, "-=0.5").to(body, {
                visibility: 'visible'
            }, "-=0.8").eventCallback("onComplete", () => {
                gsap.delayedCall(2, startAnimations);
            });
            
            function startAnimations() {
                 // Initial achievement
                showAchievement(achievements['journey']);

                // Hero text animation
                gsap.from('.hero-content .line', {
                    y: '100%',
                    stagger: 0.1,
                    duration: 1,
                    ease: 'power4.out',
                });

                // Set up all other scroll-triggered animations
                const sections = gsap.utils.toArray('main > section');
                sections.forEach(section => {
                    const title = section.querySelector('.section-title');
                    const content = section.querySelectorAll('.about-content p, .skill-card, .project-card, .card, .contact-content, .ask-question-content');
                    
                    if (title) {
                        gsap.from(title, {
                            scrollTrigger: { trigger: title, start: 'top 85%' },
                            opacity: 0, y: 50, duration: 1
                        });
                    }
                    if (content.length > 0) {
                        gsap.from(content, {
                            scrollTrigger: { trigger: section, start: 'top 70%' },
                            opacity: 0, y: 50, duration: 1, stagger: 0.2
                        });
                    }
                });

                 // Skill bars animation setup
                const skillItems = gsap.utils.toArray('.skill-item');
                skillItems.forEach(item => {
                    const progress = item.dataset.progress;
                    const progressBar = item.querySelector('.skill-progress');
                    gsap.to(progressBar, {
                        width: `${progress}%`,
                        duration: 1.5,
                        ease: 'power3.out',
                        scrollTrigger: {
                            trigger: item,
                            start: 'top 85%'
                        }
                    });
                });
            }


            // --- 1. CUSTOM CURSOR & MAGNETIC EFFECT ---
            const cursorDot = document.querySelector('.cursor-dot');
            const cursorOutline = document.querySelector('.cursor-outline');
            
            gsap.set(cursorDot, { xPercent: -50, yPercent: -50 });
            gsap.set(cursorOutline, { xPercent: -50, yPercent: -50 });
            
            window.addEventListener('mousemove', e => {
                gsap.to(cursorDot, { duration: 0.1, x: e.clientX, y: e.clientY });
                gsap.to(cursorOutline, { duration: 0.4, x: e.clientX, y: e.clientY });
            });
            
            document.querySelectorAll('.interactive').forEach(el => {
                el.addEventListener('mouseenter', () => {
                    cursorOutline.classList.add('hover');
                    gsap.to(el, { scale: 1.05, duration: 0.3 });
                });
                el.addEventListener('mouseleave', () => {
                    cursorOutline.classList.remove('hover');
                    gsap.to(el, { scale: 1, duration: 0.3 });
                });
            });

            // --- 2. HEADER SCROLL LOGIC ---
            const header = document.getElementById('main-header');
            ScrollTrigger.create({
                start: 'top top',
                end: 99999,
                onUpdate: self => {
                    header.classList.toggle('scrolled', self.direction === 1 && self.progress > 0);
                }
            });

            // --- 3. THREE.JS HERO BACKGROUND ---
            let scene, camera, renderer, particles;
            const mouse = new THREE.Vector2();
            let particleSpeed = 0.0005;
            let colorTween;

            function initThreeJS() {
                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                camera.position.z = 50;

                renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('page-canvas'), alpha: true });
                renderer.setSize(window.innerWidth, window.innerHeight);

                const particleCount = 500;
                const positions = new Float32Array(particleCount * 3);
                for (let i = 0; i < particleCount * 3; i++) {
                    positions[i] = (Math.random() - 0.5) * 100;
                }
                const particlesGeometry = new THREE.BufferGeometry();
                particlesGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                const particlesMaterial = new THREE.PointsMaterial({
                    color: 0x1E90FF,
                    size: 0.2,
                    transparent: true,
                    blending: THREE.AdditiveBlending
                });
                particles = new THREE.Points(particlesGeometry, particlesMaterial);
                scene.add(particles);

                window.addEventListener('mousemove', e => {
                    mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
                    mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;
                });
                
                window.addEventListener('click', () => {
                    gsap.to(particles.scale, {
                        duration: 0.5,
                        x: 1.5, y: 1.5, z: 1.5,
                        ease: 'power4.out',
                        onComplete: () => {
                            gsap.to(particles.scale, {
                                duration: 1,
                                x: 1, y: 1, z: 1,
                                ease: 'elastic.out(1, 0.3)'
                            });
                        }
                    });
                });

                animate();
            }

            function animate() {
                requestAnimationFrame(animate);
                particles.rotation.x += particleSpeed;
                particles.rotation.y += particleSpeed;
                
                camera.position.x += (mouse.x * 5 - camera.position.x) * 0.02;
                camera.position.y += (mouse.y * 5 - camera.position.y) * 0.02;
                camera.lookAt(scene.position);
                
                renderer.render(scene, camera);
            }
            initThreeJS();
            
            // --- 5. GAMIFICATION LOGIC ---
            // Sound Engine
            let isSoundEnabled = false;
            let audioStarted = false;
            const soundToggle = document.getElementById('sound-toggle');
            
            const achievementSound = new Tone.Synth({ oscillator: { type: 'sine' }, envelope: { attack: 0.01, decay: 0.2, sustain: 0, release: 0.1 } }).toDestination();
            const levelUpSound = new Tone.Synth({ oscillator: { type: 'fatsawtooth' }, envelope: { attack: 0.05, decay: 0.5, sustain: 0.1, release: 0.5 } }).toDestination();
            const orbSound = new Tone.Synth({ oscillator: { type: 'triangle8' }, envelope: { attack: 0.01, decay: 0.8, sustain: 0.1, release: 0.2 } }).toDestination();
            const godModeSound = new Tone.MembraneSynth().toDestination();


            function playSound(sound, note, duration = '8n') {
                if (!isSoundEnabled) return;
                sound.triggerAttackRelease(note, duration);
            }
            
            soundToggle.addEventListener('click', () => {
                isSoundEnabled = !isSoundEnabled;
                soundToggle.textContent = isSoundEnabled ? 'Sound ON' : 'Sound OFF';
                if (!audioStarted) {
                   Tone.start();
                   audioStarted = true;
                }
            });

            // XP and Leveling System
            let currentLevel = 1;
            let currentXP = 0;
            let xpToNextLevel = 100;
            const levelIndicator = document.getElementById('level-indicator');
            const xpProgress = document.getElementById('xp-progress');

            function addXP(amount) {
                currentXP += amount;
                while (currentXP >= xpToNextLevel) {
                    levelUp();
                }
                updateXpBar();
            }

            function levelUp() {
                currentLevel++;
                currentXP -= xpToNextLevel;
                xpToNextLevel = Math.floor(xpToNextLevel * 1.5);
                levelIndicator.textContent = `LVL ${currentLevel}`;
                playSound(levelUpSound, 'C5');
                showAchievement({ title: `Level Up! Reached Level ${currentLevel}`, unlocked: false });
            }

            function updateXpBar() {
                const percentage = (currentXP / xpToNextLevel) * 100;
                xpProgress.style.width = `${percentage}%`;
            }

            // Achievements
            const achievements = {
                'journey': { title: 'The Journey Begins', unlocked: false },
                'about': { title: 'The Origin Story', unlocked: false, xp: 25 },
                'skills': { title: 'Skill Tree Unlocked', unlocked: false, xp: 25 },
                'projects': { title: 'Quest Log Reviewed', unlocked: false, xp: 25 },
                'contact': { title: 'Summon Protocol Initiated', unlocked: false, xp: 25 },
                'godmode': { title: 'God Mode Activated!', unlocked: false, xp: 500 }
            };
            const achievementsDisplay = document.getElementById('achievements-display');

            function showAchievement(achievement) {
                if (achievement.unlocked) return;
                achievement.unlocked = true;

                const popup = document.createElement('div');
                popup.className = 'achievement-popup';
                popup.innerHTML = `<h4>Achievement Unlocked!</h4><p>${achievement.title}</p>`;
                document.body.appendChild(popup);
                playSound(achievementSound, 'C6');

                // Add to sidebar
                const li = document.createElement('li');
                li.textContent = `✅ ${achievement.title}`;
                if (achievementsDisplay.firstChild) {
                    achievementsDisplay.insertBefore(li, achievementsDisplay.firstChild);
                } else {
                    achievementsDisplay.appendChild(li);
                }
                
                gsap.timeline()
                    .to(popup, { x: '0%', duration: 0.5, ease: 'power4.out' })
                    .to(popup, { x: '-150%', duration: 0.5, ease: 'power4.in', delay: 3 })
                    .then(() => popup.remove());
            }
            
            gsap.utils.toArray(['#about', '#skills', '#projects', '#contact']).forEach(section => {
                ScrollTrigger.create({
                    trigger: section,
                    start: 'top 60%',
                    onEnter: () => {
                        const achievement = achievements[section.id];
                        if (!achievement.unlocked) {
                            addXP(achievement.xp);
                            showAchievement(achievement);
                        }
                    }
                });
            });
            
            // Secret Orbs
            const orbs = document.querySelectorAll('.secret-orb');
            let foundOrbs = new Set();
            orbs.forEach(orb => {
                orb.addEventListener('click', () => {
                    const orbId = orb.dataset.orb;
                    if (!foundOrbs.has(orbId)) {
                        foundOrbs.add(orbId);
                        gsap.to(orb, { scale: 0, opacity: 0, duration: 0.5, ease: 'back.in' });
                        playSound(orbSound, 'G5');
                        
                        const orbAchievement = { title: `Secret Orb ${foundOrbs.size}/3 Found!`, unlocked: false };
                        showAchievement(orbAchievement);
                        addXP(50);

                        if (foundOrbs.size === 3) {
                            const finalOrbAchievement = { title: 'Rainbow Mode Unlocked!', unlocked: false };
                            showAchievement(finalOrbAchievement);
                            document.getElementById('cycle-colors-control').style.display = 'block';
                            document.getElementById('randomizeColorBtn').click();
                            addXP(100); // Big bonus for finding all
                        }
                    }
                });
            });

            // IDKFA Easter Egg
            const idkfaCode = ['i', 'd', 'k', 'f', 'a'];
            let idkfaIndex = 0;
            document.addEventListener('keydown', (e) => {
                if (e.key.toLowerCase() === idkfaCode[idkfaIndex]) {
                    idkfaIndex++;
                    if (idkfaIndex === idkfaCode.length) {
                        idkfaIndex = 0;
                        if (!achievements['godmode'].unlocked) {
                            playSound(godModeSound, "C2", "1n");
                            showAchievement(achievements['godmode']);
                            addXP(achievements['godmode'].xp);
                            // Unlock all other achievements
                            Object.keys(achievements).forEach(key => {
                                if (!achievements[key].unlocked) {
                                    showAchievement(achievements[key]);
                                }
                            });
                        }
                    }
                } else {
                    idkfaIndex = 0;
                }
            });

            // --- 6. CONTROLS & SIDEBAR PANEL LOGIC ---
            const controlsContainer = document.getElementById('controls-container');
            const toggleButton = controlsContainer.querySelector('.controls-toggle');
            const colorPicker = document.getElementById('particleColor');
            
            toggleButton.addEventListener('click', () => {
                controlsContainer.classList.toggle('open');
            });
            
            colorPicker.addEventListener('input', (e) => {
                if(colorTween) colorTween.kill();
                particles.material.color.set(e.target.value);
            });
            document.getElementById('particleSize').addEventListener('input', (e) => {
                particles.material.size = parseFloat(e.target.value);
            });
            document.getElementById('particleSpeed').addEventListener('input', (e) => {
                particleSpeed = parseFloat(e.target.value);
            });
            
            document.getElementById('randomizeColorBtn').addEventListener('click', () => {
                if (colorTween) {
                    colorTween.kill();
                }

                const colorPalette = [
                    new THREE.Color("#1E90FF"), // Blue
                    new THREE.Color("#00FF00"), // Green
                    new THREE.Color("#FFC0CB"), // Pink
                    new THREE.Color("#FFA500"), // Orange
                    new THREE.Color("#FF0000"), // Red
                    new THREE.Color("#FFFF00"), // Yellow
                    new THREE.Color("#87CEEB")  // Sky Blue
                ];

                colorTween = gsap.timeline({
                    repeat: -1,
                    onUpdate: function() {
                        colorPicker.value = '#' + particles.material.color.getHexString();
                    }
                });

                colorPalette.forEach(color => {
                    colorTween.to(particles.material.color, {
                        r: color.r,
                        g: color.g,
                        b: color.b,
                        duration: 2, // Faster transition
                        ease: "sine.inOut"
                    });
                });
            });

            // Achievements sidebar
            const sidebar = document.getElementById('achievements-sidebar');
            const sidebarToggle = document.getElementById('achievements-toggle');
            const sidebarClose = sidebar.querySelector('.achievements-close');

            sidebarToggle.addEventListener('click', () => sidebar.classList.add('open'));
            sidebarClose.addEventListener('click', () => sidebar.classList.remove('open'));

        });
    </script>
</body>
</html>


